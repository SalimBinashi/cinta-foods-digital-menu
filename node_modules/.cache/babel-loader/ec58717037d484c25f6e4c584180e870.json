{"ast":null,"code":"\"use strict\";\n\nvar docblock = require(\"jest-docblock\");\n\nfunction hasPragma(text) {\n  var pragmas = Object.keys(docblock.parse(docblock.extract(text)));\n  return pragmas.indexOf(\"prettier\") !== -1 || pragmas.indexOf(\"format\") !== -1;\n}\n\nfunction insertPragma(text) {\n  var parsedDocblock = docblock.parseWithComments(docblock.extract(text));\n  var pragmas = Object.assign({\n    format: \"\"\n  }, parsedDocblock.pragmas);\n  var newDocblock = docblock.print({\n    pragmas: pragmas,\n    comments: parsedDocblock.comments.replace(/^(\\s+?\\r?\\n)+/, \"\") // remove leading newlines\n\n  }).replace(/(\\r\\n|\\r)/g, \"\\n\"); // normalise newlines (mitigate use of os.EOL by jest-docblock)\n\n  var strippedText = docblock.strip(text);\n  var separatingNewlines = strippedText.startsWith(\"\\n\") ? \"\\n\" : \"\\n\\n\";\n  return newDocblock + separatingNewlines + strippedText;\n}\n\nmodule.exports = {\n  hasPragma: hasPragma,\n  insertPragma: insertPragma\n};","map":null,"metadata":{},"sourceType":"script"}