{"ast":null,"code":"import _slicedToArray from \"/home/belbet/Project files/cinta-foods-digital-menu/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/belbet/Project files/cinta-foods-digital-menu/client/src/components/Dashboard/Dashboard.js\";\nimport Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport isLoggedIn from \"../../helperFunctions/helperfunctionLog\";\nimport getTableNumber from \"../../helperFunctions/helperFunctionTables\";\nimport \"./dashboard.css\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Session from 'react-session-api';\n\nfunction Dashboard() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      tableNumber = _useState2[0],\n      setTableNumber = _useState2[1];\n\n  var history = useHistory(); //useEffect method\n\n  useEffect(function () {\n    setTableNumber(getTableNumber);\n  }, []); //activate table function\n\n  var activateTable = function activateTable() {\n    Axios.post(\"http://localhost:3001/tables/updateTable\", {\n      table_number: tableNumber,\n      status: \"online\"\n    }).then(function (response) {\n      if (response.data.message === \"update successful\") {\n        Session.set(\"status\", true);\n        toast.success(Session.get(\"status\"));\n        setTimeout(function () {\n          toast.success(\"Welcome to Cinta Foods, Your satisfaction is our priority\");\n        }, 400);\n        history.push('/menu');\n      }\n    });\n  };\n\n  return !isLoggedIn ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 24\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"submit\",\n    type: \"submit\",\n    name: \"status\",\n    onClick: activateTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Activate Table \")), /*#__PURE__*/React.createElement(Toaster, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/belbet/Project files/cinta-foods-digital-menu/client/src/components/Dashboard/Dashboard.js"],"names":["Axios","React","useEffect","useState","Redirect","useHistory","isLoggedIn","getTableNumber","toast","Toaster","Session","Dashboard","tableNumber","setTableNumber","history","activateTable","post","table_number","status","then","response","data","message","set","success","get","setTimeout","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,kBAArC;AACA,OAAOC,UAAP,MAAuB,yCAAvB;AACA,OAAOC,cAAP,MAA2B,4CAA3B;AACA,OAAO,iBAAP;AACA,OAAOC,KAAP,IAAgBC,OAAhB,QAA+B,iBAA/B;AACA,OAAOC,OAAP,MAAoB,mBAApB;;AAGA,SAASC,SAAT,GAAqB;AACjB,kBAAsCR,QAAQ,CAAC,EAAD,CAA9C;AAAA;AAAA,MAAOS,WAAP;AAAA,MAAoBC,cAApB;;AACA,MAAMC,OAAO,GAAGT,UAAU,EAA1B,CAFiB,CAInB;;AACAH,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,cAAc,CAACN,cAAD,CAAd;AACD,GAFQ,EAEN,EAFM,CAAT,CALmB,CASnB;;AACA,MAAMQ,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1Bf,IAAAA,KAAK,CAACgB,IAAN,CAAW,0CAAX,EAAuD;AACrDC,MAAAA,YAAY,EAAEL,WADuC;AAErDM,MAAAA,MAAM,EAAE;AAF6C,KAAvD,EAGGC,IAHH,CAGQ,UAACC,QAAD,EAAc;AACpB,UAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,mBAA9B,EAAmD;AACjDZ,QAAAA,OAAO,CAACa,GAAR,CAAY,QAAZ,EAAsB,IAAtB;AACAf,QAAAA,KAAK,CAACgB,OAAN,CAAed,OAAO,CAACe,GAAR,CAAY,QAAZ,CAAf;AACAC,QAAAA,UAAU,CAAC,YAAM;AACflB,UAAAA,KAAK,CAACgB,OAAN,CACE,2DADF;AAGD,SAJS,EAIP,GAJO,CAAV;AAKAV,QAAAA,OAAO,CAACa,IAAR,CAAa,OAAb;AACD;AACF,KAdD;AAeD,GAhBD;;AAiBA,SAAO,CAACrB,UAAD,gBAAc,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAd,gBACL;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,KAAK,EAAC,QADR;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,IAAI,EAAC,QAHP;AAIE,IAAA,OAAO,EAAES,aAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANF,CADF,eASE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CADF;AAaD;;AAED,eAAeJ,SAAf","sourcesContent":["import Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport isLoggedIn from \"../../helperFunctions/helperfunctionLog\";\nimport getTableNumber from \"../../helperFunctions/helperFunctionTables\";\nimport \"./dashboard.css\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Session from 'react-session-api';\n\n\nfunction Dashboard() {\n    const [tableNumber, setTableNumber] = useState('');\n    const history = useHistory();\n\n  //useEffect method\n  useEffect(() => {\n    setTableNumber(getTableNumber);\n  }, []);\n\n  //activate table function\n  const activateTable = () => {\n    Axios.post(\"http://localhost:3001/tables/updateTable\", {\n      table_number: tableNumber,\n      status: \"online\",\n    }).then((response) => {\n      if (response.data.message === \"update successful\") {\n        Session.set(\"status\", true);  \n        toast.success( Session.get(\"status\"));\n        setTimeout(() => {\n          toast.success(\n            \"Welcome to Cinta Foods, Your satisfaction is our priority\"\n          );\n        }, 400);\n        history.push('/menu');\n      }\n    });\n  };\n  return !isLoggedIn ? <Redirect to=\"/login\" /> : (\n    <div className=\"container\">\n      <button\n        class=\"submit\"\n        type=\"submit\"\n        name=\"status\"\n        onClick={activateTable}\n      >\n        <span>Activate Table </span>\n      </button>\n      <Toaster/>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}