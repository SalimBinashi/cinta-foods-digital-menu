{"ast":null,"code":"import _slicedToArray from \"/home/belbet/Project files/cinta-foods-digital-menu/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/belbet/Project files/cinta-foods-digital-menu/client/src/components/Dashboard/Dashboard.js\";\nimport Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport isLoggedIn from \"../../helperFunctions/helperfunctionLog\";\nimport getTableNumber from \"../../helperFunctions/helperFunctionTables\";\nimport \"./dashboard.css\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Session from 'react-session-api';\n\nfunction Dashboard() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      tableNumber = _useState2[0],\n      setTableNumber = _useState2[1];\n\n  var history = useHistory(); //useEffect method\n\n  useEffect(function () {\n    setTableNumber(getTableNumber);\n    setTimeout(function () {\n      logoutTable();\n    }, 30000);\n  }, []); //logout table\n\n  var logoutTable = function logoutTable() {\n    Session.set(\"loggedIn\", false);\n    console.log(Session.get(\"loggedIn\"));\n  }; //activate table function\n\n\n  var activateTable = function activateTable() {\n    Axios.patch(\"http://localhost:3001/tables/updateTable\", {\n      table_number: tableNumber,\n      status: \"online\"\n    }).then(function (response) {\n      if (response.data.message === \"update successful\") {\n        Session.set(\"status\", true);\n        toast.success(Session.get(\"status\"));\n        setTimeout(function () {\n          toast.success(\"Welcome to Cinta Foods, Your satisfaction is our priority\");\n        }, 400);\n        history.push({\n          pathname: '/menu',\n          state: {\n            table_number: tableNumber\n          }\n        });\n      }\n    });\n  };\n\n  return !isLoggedIn ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 24\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"submit\",\n    type: \"submit\",\n    name: \"status\",\n    onClick: activateTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Activate Table \")), /*#__PURE__*/React.createElement(Toaster, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/belbet/Project files/cinta-foods-digital-menu/client/src/components/Dashboard/Dashboard.js"],"names":["Axios","React","useEffect","useState","Redirect","useHistory","isLoggedIn","getTableNumber","toast","Toaster","Session","Dashboard","tableNumber","setTableNumber","history","setTimeout","logoutTable","set","console","log","get","activateTable","patch","table_number","status","then","response","data","message","success","push","pathname","state"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,kBAArC;AACA,OAAOC,UAAP,MAAuB,yCAAvB;AACA,OAAOC,cAAP,MAA2B,4CAA3B;AACA,OAAO,iBAAP;AACA,OAAOC,KAAP,IAAgBC,OAAhB,QAA+B,iBAA/B;AACA,OAAOC,OAAP,MAAoB,mBAApB;;AAGA,SAASC,SAAT,GAAqB;AACjB,kBAAsCR,QAAQ,CAAC,EAAD,CAA9C;AAAA;AAAA,MAAOS,WAAP;AAAA,MAAoBC,cAApB;;AACA,MAAMC,OAAO,GAAGT,UAAU,EAA1B,CAFiB,CAInB;;AACAH,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,cAAc,CAACN,cAAD,CAAd;AACAQ,IAAAA,UAAU,CAAE,YAAW;AAACC,MAAAA,WAAW;AAAK,KAA9B,EAAgC,KAAhC,CAAV;AACD,GAHQ,EAGN,EAHM,CAAT,CALmB,CAUnB;;AACA,MAAMA,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBN,IAAAA,OAAO,CAACO,GAAR,CAAY,UAAZ,EAAwB,KAAxB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYT,OAAO,CAACU,GAAR,CAAY,UAAZ,CAAZ;AACD,GAHD,CAXmB,CAenB;;;AACA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BrB,IAAAA,KAAK,CAACsB,KAAN,CAAY,0CAAZ,EAAwD;AACtDC,MAAAA,YAAY,EAAEX,WADwC;AAEtDY,MAAAA,MAAM,EAAE;AAF8C,KAAxD,EAGGC,IAHH,CAGQ,UAACC,QAAD,EAAc;AACpB,UAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,mBAA9B,EAAmD;AACjDlB,QAAAA,OAAO,CAACO,GAAR,CAAY,QAAZ,EAAsB,IAAtB;AACAT,QAAAA,KAAK,CAACqB,OAAN,CAAenB,OAAO,CAACU,GAAR,CAAY,QAAZ,CAAf;AACAL,QAAAA,UAAU,CAAC,YAAM;AACfP,UAAAA,KAAK,CAACqB,OAAN,CACE,2DADF;AAGD,SAJS,EAIP,GAJO,CAAV;AAKAf,QAAAA,OAAO,CAACgB,IAAR,CAAa;AAACC,UAAAA,QAAQ,EAAE,OAAX;AACbC,UAAAA,KAAK,EAAE;AAACT,YAAAA,YAAY,EAAEX;AAAf;AADM,SAAb;AAGD;AACF,KAhBD;AAiBD,GAlBD;;AAmBA,SAAO,CAACN,UAAD,gBAAc,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAd,gBACL;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,KAAK,EAAC,QADR;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,IAAI,EAAC,QAHP;AAIE,IAAA,OAAO,EAAEe,aAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANF,CADF,eASE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CADF;AAaD;;AAED,eAAeV,SAAf","sourcesContent":["import Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport isLoggedIn from \"../../helperFunctions/helperfunctionLog\";\nimport getTableNumber from \"../../helperFunctions/helperFunctionTables\";\nimport \"./dashboard.css\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Session from 'react-session-api';\n\n\nfunction Dashboard() {\n    const [tableNumber, setTableNumber] = useState('');\n    const history = useHistory();\n\n  //useEffect method\n  useEffect(() => {\n    setTableNumber(getTableNumber);\n    setTimeout( function() {logoutTable(); }, 30000 );\n  }, []);\n\n  //logout table\n  const logoutTable = () => {\n    Session.set(\"loggedIn\", false);\n    console.log(Session.get(\"loggedIn\"));\n  };\n  //activate table function\n  const activateTable = () => {\n    Axios.patch(\"http://localhost:3001/tables/updateTable\", {\n      table_number: tableNumber,\n      status: \"online\",\n    }).then((response) => {\n      if (response.data.message === \"update successful\") {\n        Session.set(\"status\", true);  \n        toast.success( Session.get(\"status\"));\n        setTimeout(() => {\n          toast.success(\n            \"Welcome to Cinta Foods, Your satisfaction is our priority\"\n          );\n        }, 400);\n        history.push({pathname: '/menu',\n        state: {table_number: tableNumber}\n      });\n      }\n    });\n  };\n  return !isLoggedIn ? <Redirect to=\"/\" /> : (\n    <div className=\"container\">\n      <button\n        class=\"submit\"\n        type=\"submit\"\n        name=\"status\"\n        onClick={activateTable}\n      >\n        <span>Activate Table </span>\n      </button>\n      <Toaster/>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}