{"ast":null,"code":"\"use strict\";\n\nfunction flattenDoc(doc) {\n  if (doc.type === \"concat\") {\n    var res = [];\n\n    for (var i = 0; i < doc.parts.length; ++i) {\n      var doc2 = doc.parts[i];\n\n      if (typeof doc2 !== \"string\" && doc2.type === \"concat\") {\n        [].push.apply(res, flattenDoc(doc2).parts);\n      } else {\n        var flattened = flattenDoc(doc2);\n\n        if (flattened !== \"\") {\n          res.push(flattened);\n        }\n      }\n    }\n\n    return Object.assign({}, doc, {\n      parts: res\n    });\n  } else if (doc.type === \"if-break\") {\n    return Object.assign({}, doc, {\n      breakContents: doc.breakContents != null ? flattenDoc(doc.breakContents) : null,\n      flatContents: doc.flatContents != null ? flattenDoc(doc.flatContents) : null\n    });\n  } else if (doc.type === \"group\") {\n    return Object.assign({}, doc, {\n      contents: flattenDoc(doc.contents),\n      expandedStates: doc.expandedStates ? doc.expandedStates.map(flattenDoc) : doc.expandedStates\n    });\n  } else if (doc.contents) {\n    return Object.assign({}, doc, {\n      contents: flattenDoc(doc.contents)\n    });\n  }\n\n  return doc;\n}\n\nfunction printDoc(doc) {\n  if (typeof doc === \"string\") {\n    return JSON.stringify(doc);\n  }\n\n  if (doc.type === \"line\") {\n    if (doc.literal) {\n      return \"literalline\";\n    }\n\n    if (doc.hard) {\n      return \"hardline\";\n    }\n\n    if (doc.soft) {\n      return \"softline\";\n    }\n\n    return \"line\";\n  }\n\n  if (doc.type === \"break-parent\") {\n    return \"breakParent\";\n  }\n\n  if (doc.type === \"trim\") {\n    return \"trim\";\n  }\n\n  if (doc.type === \"concat\") {\n    return \"[\" + doc.parts.map(printDoc).join(\", \") + \"]\";\n  }\n\n  if (doc.type === \"indent\") {\n    return \"indent(\" + printDoc(doc.contents) + \")\";\n  }\n\n  if (doc.type === \"align\") {\n    return doc.n === -Infinity ? \"dedentToRoot(\" + printDoc(doc.contents) + \")\" : doc.n < 0 ? \"dedent(\" + printDoc(doc.contents) + \")\" : doc.n.type === \"root\" ? \"markAsRoot(\" + printDoc(doc.contents) + \")\" : \"align(\" + JSON.stringify(doc.n) + \", \" + printDoc(doc.contents) + \")\";\n  }\n\n  if (doc.type === \"if-break\") {\n    return \"ifBreak(\" + printDoc(doc.breakContents) + (doc.flatContents ? \", \" + printDoc(doc.flatContents) : \"\") + \")\";\n  }\n\n  if (doc.type === \"group\") {\n    if (doc.expandedStates) {\n      return \"conditionalGroup(\" + \"[\" + doc.expandedStates.map(printDoc).join(\",\") + \"])\";\n    }\n\n    return (doc[\"break\"] ? \"wrappedGroup\" : \"group\") + \"(\" + printDoc(doc.contents) + \")\";\n  }\n\n  if (doc.type === \"fill\") {\n    return \"fill\" + \"(\" + doc.parts.map(printDoc).join(\", \") + \")\";\n  }\n\n  if (doc.type === \"line-suffix\") {\n    return \"lineSuffix(\" + printDoc(doc.contents) + \")\";\n  }\n\n  if (doc.type === \"line-suffix-boundary\") {\n    return \"lineSuffixBoundary\";\n  }\n\n  throw new Error(\"Unknown doc type \" + doc.type);\n}\n\nmodule.exports = {\n  printDocToDebug: function printDocToDebug(doc) {\n    return printDoc(flattenDoc(doc));\n  }\n};","map":null,"metadata":{},"sourceType":"script"}